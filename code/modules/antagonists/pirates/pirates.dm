/datum/antagonist/pirate
	name = "Space Dragon"
	roundend_category = "space dragons"
	antagpanel_category = "Space Dragon"
	job_rank = ROLE_SPACE_DRAGON
	show_in_antagpanel = TRUE
	show_name_in_check_antagonists = TRUE
	show_to_ghosts = TRUE
	var/list/datum/mind/carp = list()

/datum/antagonist/pirate/greet()
	to_chat(owner, "Steal yar matey")
	to_chat(owner, "<span class='boldwarning'>Do not steal from AFK ships.</span>")
	owner.announce_objectives()
	SEND_SOUND(owner.current, sound('sound/magic/demon_attack1.ogg'))

/datum/antagonist/pirate/proc/forge_objectives()
	var/datum/objective/download/download = new()
	objectives += summon

/datum/antagonist/pirate/on_gain()
	forge_objectives()
	. = ..()

/datum/antagonist/pirate/roundend_report()
	var/list/parts = list()
	var/datum/objective/summon_carp/S = locate() in objectives
	if(S.check_completion())
		parts += "<span class='redtext big'>The [name] has succeeded!  Local space has been reclaimed by the space carp!</span>"
	parts += printplayer(owner)
	var/objectives_complete = TRUE
	if(objectives.len)
		parts += printobjectives(objectives)
		for(var/datum/objective/objective in objectives)
			if(!objective.check_completion())
				objectives_complete = FALSE
				break
	if(objectives_complete)
		parts += "<span class='greentext big'>The [name] was successful!</span>"
	else
		parts += "<span class='redtext big'>The [name] has failed!</span>"
	parts += "<span class='header'>The [name] was assisted by:</span>"
	parts += printplayerlist(carp)
	return "<div class='panel redborder'>[parts.Join("<br>")]</div>"
